import{j as s,P as t,r as c}from"./index-gS0fNKXR.js";const p=()=>s.jsxs("div",{className:"skeleton",children:[s.jsx("div",{className:"skeleton-header"}),s.jsx("div",{className:"skeleton-body"})]});function m({image:r,title:n,description:l,date:e,id:d,navigate:a}){const o=()=>{a(`/single/${d}`)};return s.jsxs("div",{className:"post",onClick:o,children:[s.jsx("img",{className:"postImg",src:r,alt:""}),s.jsxs("div",{className:"postInfo",children:[s.jsx("span",{className:"postTitle",children:n}),s.jsx("hr",{}),s.jsx("span",{className:"postDate",children:e})]}),s.jsx("p",{className:"postDesc",children:l})]})}m.propTypes={image:t.string.isRequired,title:t.string.isRequired,description:t.string.isRequired,date:t.string.isRequired,id:t.number.isRequired,navigate:t.func.isRequired};const u=({navigate:r})=>{const[n,l]=c.useState([]);return c.useEffect(()=>{(async()=>{console.log("Calling API...");const a=await(await fetch("https://api-postgres.onrender.com/blogs/")).json();console.log(a);const o=a.map(i=>({image:i.image64,title:i.title,description:i.content,date:i._date,id:i.id}));l(o)})()},[]),n.length===0?s.jsx(p,{}):s.jsx(c.Suspense,{fallback:s.jsx(p,{}),children:s.jsx("div",{className:"posts",children:n.map(e=>s.jsx(m,{image:e.image,title:e.title,description:e.description,date:e.date,id:e.id,navigate:r},e.id))})})};u.propTypes={navigate:t.func.isRequired};export{u as default};
